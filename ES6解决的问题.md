# ES6解决的问题

ECMAScript 6.0于2015 年 6 月正式发布了，成为JavaScript 语言的下一代标准。ES6增加的语言特性解决了哪些问题，会给开发者哪些便利，是本文主要探讨的问题。

## 增加了对unicode字符的支持
ES5对字符的处理有限，无法很好地处理码点大于`0xFFFF`的字符。

ES6在`string`原生方法中支持码点大于`0xFFFF`的字符，取得码点或是遍历，都可以直接操作；并且对字符不同的表示方法做了统一化。

在正则表达式里新增`\u` `\s`修饰符，使得正则对特殊字符的匹配不需要开发者额外处理。




## 异步编程

ES6 前异步编程的解决方式：

- 回调函数
- 事件监听
- 发布/订阅
- 自定义promise

### Promise

ES6提供了原生的Promise对象，统一了用法和标准。

- 对象的状态不受外界影响。能够方便地获取异步操作的状态、赋予对应操作。
- 一旦状态改变，就不会再变，任何时候都可以得到这个结果。

缺点

- 无法取消Promise，一旦新建它就会立即执行，无法中途取消。
- 如果不设置回调函数，或在catch中再次抛出错误。Promise内部抛出的错误，不会反应到外部。
- 当处于pending状态时，无法得知目前进展到哪一个阶段（刚刚开始还是即将完成）。



## 减少全局变量和方法

ES6 将全局方法parseInt()和parseFloat()，移植到Number对象上面。 逐步减少全局性方法，使得语言逐步模块化。

## 代码作用域

增加`let`,` const`的变量声明方式，不存在变量提升，不允许重复声明，使语言使用更加严谨。

 增加块级作用域, 使得变量的作用域更利于管理，也使得立即执行函数表达式不再必要了。



增加箭头函数

让this绑定定义时所在的作用域，而不是指向运行时所在的作用域，也使得表达更加简洁。

## 语法糖

ES6推出了模版字符串，使得多行字符串及夹杂变量的字符串写起来更加方便。

对象增加属性名表达式与简洁表示法。

增加遍历器机制，为各种不同的数据结构提供统一的访问机制。

增加解构的语法。

增加class关键字来定义类，过去，生成实例对象的传统方法是通过构造函数。不再和传统面向对象语言有大的差异。且支持extends。

## 元编程

引入`Proxy`对象，可以拦截某些操作并实现自定义行为。 

引入 `Rflect`对象，可以获取默认操作，可以将默认操作从处理程序转发到目标。

## 更多的原生方法

ES6提供了更多的原生方法，避免了开发者重复造轮子。如字符串的查找。

完善正则的匹配规则，如新加的y、s修饰符。

增加了set、map的数据结构。

虽然JavaScript 不适合进行科学和金融方面的精确计算，但增加`Number.EPSILON`等数值方法，使得对数值操作易于在精度方面进行控制。

增加对对象的操作与读取的API。



## 优化

对尾递归进行优化，赋予javscript运行复杂度更高的方法的能力。



